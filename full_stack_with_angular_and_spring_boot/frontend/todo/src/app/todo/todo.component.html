<h1>{{todoAction}} Todo</h1>

<div class="container">
   <h3>{{userName}} <span *ngIf="todoId != -1"> - id:{{todoId}}</span> </h3>
</div>

<div class="container">

   <!-- Validation messages: this are linked to # identifierfrom tags-->
   <!-- 
   <div class="alert alert-warning" 
        *ngIf="(todoForm.dirty || todoForm.touched) && todoForm.invalid">
        Enter valid data
   </div> 
   -->
   <!-- #description="ngModel" -->
   <div class="alert alert-warning" 
        *ngIf="(description.dirty || description.touched) && description.invalid">
         Enter a valid description at least 10 characters
   </div>
   <!-- #targetDate="ngModel" -->
   <div class="alert alert-warning" 
        *ngIf="(targetDate.dirty || targetDate.touched) && targetDate.invalid">
        Enter a valid target name
   </div>

   <form (ngSubmit)="!todoForm.invalid && saveTodo()" #todoForm="ngForm">
      
      <fieldset class="form-group">
         <label>Description</label>
         <input type="text" name="description" #description="ngModel" 
            [(ngModel)]="todo.description" 
            class="form-control"             
            required="required"
            minlength="10" />
      </fieldset>

      <fieldset class="form-group">
         <label>Target Date</label>
         <input type="date" name="targetDate" #targetDate="ngModel" 
            [(ngModel)]="todo.targetDate" 
            class="form-control"  
            required="required" />
      </fieldset>

      <button class="btn btn-success btn-space">Save</button>
      <button class="btn btn-warning btn-space" routerLink="/todos/{{userName}}">Cancel</button>

   </form>

</div>